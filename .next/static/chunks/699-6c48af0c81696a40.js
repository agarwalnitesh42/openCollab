"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{61211:function(e,t,a){a.r(t),a.d(t,{default:function(){return i},useSupabase:function(){return o}});var r=a(57437),s=a(2265),n=a(65928);let c=(0,s.createContext)();function i(e){let{children:t,session:a,user:i}=e,[o]=(0,s.useState)(()=>(0,n.A)());return(0,r.jsx)(c.Provider,{value:{supabase:o,session:a,user:i},children:(0,r.jsx)(r.Fragment,{children:t})})}let o=()=>(0,s.useContext)(c)},57069:function(e,t,a){var r=a(57437),s=a(57999);t.Z=e=>{let{className:t="",isActive:a,setActive:n=()=>null,...c}=e;return(0,r.jsx)("div",{...c,className:(0,s.Z)("".concat(a?"opacity-100":"opacity-0 pointer-events-none"," transform duration-200 z-10 fixed inset-0 w-full h-full text-black/20 backdrop-blur-sm ").concat(t)),onClick:()=>n(!1)})}},26930:function(e,t,a){var r=a(57437),s=a(54796),n=a(57999);t.Z=e=>{let{children:t,child:a,className:c="",variant:i="default",isLoad:o=!1,...l}=e;return(0,r.jsxs)("button",{...l,className:(0,n.Z)("".concat({shiny:"py-2.5 px-3 font-medium text-center text-black active:shadow-none rounded-lg shadow bg-orange-500 hover:bg-orange-600 text-white duration-150",default:"py-2.5 px-3 rounded-lg duration-150 font-medium text-center text-sm text-black bg-orange-500"}[i]," ").concat(o?"flex items-center justify-center pointer-events-none opacity-70":""," ").concat(c)),children:[o?(0,r.jsx)(s.yM,{}):"",!o&&a?(0,r.jsx)("div",{className:"-ml-1 mr-3",children:a}):"",t]})}},65777:function(e,t,a){var r=a(57437),s=a(57999),n=a(61396),c=a.n(n);t.Z=e=>{let{children:t,href:a,className:n="",...i}=e;return(0,r.jsx)(c(),{...i,href:a,className:(0,s.Z)("py-2.5 px-4 rounded-lg duration-150 font-medium text-center text-sm text-black bg-slate-800 ".concat(n)),children:t})}},30598:function(e,t,a){var r=a(57437),s=a(57069),n=a(57999);t.Z=e=>{let{children:t,title:a,description:c,icon:i,isActive:o,variant:l="default",className:u="",classNameContainer:d,onCancel:p}=e;return o?(0,r.jsxs)("div",{className:"fixed w-full h-full inset-0 z-40 overflow-y-auto",children:[(0,r.jsx)(s.Z,{isActive:!0,setActive:p}),(0,r.jsx)("div",{className:(0,n.Z)("flex items-center min-h-screen px-4 py-8 ".concat(d)),children:(0,r.jsxs)("div",{className:(0,n.Z)("relative z-10 w-full max-w-lg p-4 mx-auto bg-white rounded-md shadow-xl ".concat(u)),children:["default"==l?(0,r.jsxs)("div",{className:"py-3 sm:flex",children:[(0,r.jsx)("div",{className:"flex items-center justify-center flex-none w-12 h-12 mx-auto bg-white rounded-full",children:i}),(0,r.jsxs)("div",{className:"mt-2 text-center sm:ml-4 sm:text-left",children:[(0,r.jsx)("h4",{className:"font-medium text-black text-lg",children:a}),(0,r.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-black",children:c}),(0,r.jsx)("div",{className:"items-center gap-2 mt-3 sm:flex",children:t})]})]}):"","custom"==l?t:""]})})]}):(0,r.jsx)(r.Fragment,{})}},96007:function(e,t,a){var r=a(57437),s=a(57999);let n=/w=\d+/g;t.Z=e=>{let{src:t,className:a,imgClassName:c,alt:i}=e;return(0,r.jsx)("div",{className:(0,s.Z)("flex-none  ".concat(a)),children:(0,r.jsx)("img",{src:null==t?void 0:t.replace(n,"w=128"),alt:i,className:(0,s.Z)("rounded-full w-16 h-16 object-cover  ".concat(c)),loading:"lazy"})})}},53760:function(e,t,a){a.r(t);var r=a(57437),s=a(57999),n=a(96936);t.default=e=>{let{className:t,children:a,href:c}=e;return(0,r.jsxs)("h3",{className:(0,s.Z)("text-black font-medium flex gap-x-3 items-center ".concat(t)),children:[a,(0,r.jsx)("a",{id:"tool-title",href:"".concat(c,"?ref=devhunt"),onClick:()=>window.open("".concat(c,"?ref=devhunt")),target:"_blank",className:"hidden group-hover/card:block",children:(0,r.jsx)(n.Z,{className:"w-4 h-4 pointer-events-none"})})]})}},78755:function(e,t,a){var r=a(57437),s=a(57999);t.Z=e=>{let{className:t,children:a}=e;return(0,r.jsx)("p",{className:(0,s.Z)("text-black text-sm sm:text-base ".concat(t)),children:a})}},73550:function(e,t,a){a.d(t,{Z:function(){return r}});class r{constructor(e){this.supabase=e}}},11639:function(e,t,a){a.d(t,{F:function(){return n}});var r=a(31199),s=a.n(r);let n=new class{async get(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=this._cache.get(e);if(null!=r)return r;let s=await t();return this._cache.set(e,s,a),s}async del(e){this._cache.del(e)}constructor(){this._cache=new(s())({stdTTL:30})}}},39232:function(e,t,a){a.d(t,{Z:function(){return n}});var r=a(73550),s=a(11639);class n extends r.Z{async getWeekNumber(e,t){let a="week-number-".concat(e,"-").concat(t);return s.F.get(a,async()=>{let{data:a,error:r}=await this.supabase.rpc("get_week_number",{date_in:e,start_day:t});if(null!==r)throw Error(r.message);return a})}async getWeeks(e,t){let{data:a,error:r}=await this.supabase.rpc("get_weeks",{year_in:e,start_day:t});if(null!==r)throw Error(r.message);return a.map(e=>({week:e.week_number,startDate:e.start_date,endDate:e.end_date}))}async getPrevLaunchDays(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{data:a,error:r}=await this.supabase.rpc("get_prev_launch_days",{_launch_date:e.toISOString(),_limit:t});if(null!==r)throw Error(r.message);return a.map(e=>({launchDate:new Date(e.launch_date),products:(e.products||[]).map(e=>({...e.product,product_pricing_types:e.product_pricing_types,product_categories:e.product_categories}))}))}async getNextLaunchDays(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{data:a,error:r}=await this.supabase.rpc("get_next_launch_days",{_launch_date:e.toISOString(),_limit:t});if(null!==r)throw Error(r.message);return a.map(e=>({launchDate:new Date(e.launch_date),products:(e.products||[]).map(e=>({...e.product,product_pricing_types:e.product_pricing_types,product_categories:e.product_categories}))}))}async getWeeklyWinners(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{data:t,error:a}=await this.supabase.from("weekly_winners").select();if(null!==a)throw Error(a.message);return t.filter(t=>t.week!==e).map(e=>({...e.product_data.product,product_pricing_types:e.product_data.product_pricing_types,product_categories:e.product_data.product_categories}))}async getPrevLaunchWeeks(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,{data:s,error:n}=await this.supabase.rpc("get_prev_launch_weeks",{_year:e,_start_day:t,_launch_week:a,_limit:r});if(null!==n)throw Error(n.message);return s.map(e=>({week:e.week,startDate:new Date(e.start_date),endDate:new Date(e.end_date),products:(e.products||[]).map(e=>({...e.product,product_pricing_types:e.product_pricing_types,product_categories:e.product_categories}))}))}async getNextLaunchWeeks(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,{data:s,error:n}=await this.supabase.rpc("get_next_launch_weeks",{_year:e,_start_day:t,_launch_week:a,_limit:r});if(null!==n)throw Error(n.message);return s.map(e=>({week:e.week,startDate:new Date(e.start_date),endDate:new Date(e.end_date),products:(e.products||[]).map(e=>({...e.product,product_pricing_types:e.product_pricing_types,product_categories:e.product_categories}))}))}async getProductsCountByDay(e,t){let{data:a,error:r}=await this.supabase.rpc("get_products_count_by_date",{_start_date:e.toISOString(),_end_date:t.toISOString()});if(null!==r)throw Error(r.message);return a.map(e=>({date:new Date(e.date),count:e.product_count}))}async getProductsCountByWeek(e,t,a){let r=async(e,t,a)=>{let{data:r,error:s}=await this.supabase.rpc("get_products_count_by_week",{start_week:e,end_week:t,year_in:a,start_day:2});if(null!==s)throw Error(s.message);return r.map(e=>({week:e.week_number,startDate:new Date(e.start_date),endDate:new Date(e.end_date),count:e.product_count}))},s=[];if(t<=52)s=await r(e,t,a);else{let n=await r(e,52,a),c=await r(1,t-52,a+1);s=[...n,...c]}return s}getProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"votes_count",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.EXTENDED_PRODUCT_SELECT,i="products-".concat(e,"-").concat(t,"-").concat(n,"-").concat(r,"-").concat(a,"-").concat(c);return s.F.get(i,async()=>{let s=this.supabase.from("products").select(c).eq("deleted",!1);return n&&(s=s.eq("product_categories.id",n)),s.range(a*(r-1),a*r-1).order(e,{ascending:t})})}async getSimilarProducts(e){let{data:t,error:a}=await this.supabase.rpc("get_similar_products",{_product_id:e});if(null!==a)throw Error(a.message);return t}async getTopProducts(e,t){let{data:a,error:r}=await this.getProducts(e,t);if(r)throw Error(r.message);return a}async getMostDiscussedProducts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,{data:t,error:a}=await this.supabase.from("products").select(this.EXTENDED_PRODUCT_SELECT).eq("deleted",!1).order("comments_count",{ascending:!1}).limit(e);if(null!==a)throw Error(a.message);return t}async getRelatedProducts(e,t,a,r){let{data:s,error:n}=await this.getProducts(a,r).neq("id",e);if(n)return console.error(n),[];let c=s.filter(e=>{var a;return null===(a=e.product_categories)||void 0===a?void 0:a.some(e=>t.includes(e.name))}).slice(0,8);return c}async getUserProductsById(e){let{data:t}=await this.supabase.from("products").select(this.DEFULT_PRODUCT_SELECT).eq("owner_id",e).eq("deleted",!1);return t}async getUserVoteById(e,t){if(!e||!t)return 0;let{data:a}=await this.supabase.from("product_votes").select().eq("user_id",e).eq("product_id",t).maybeSingle();return a}async getRandomTools(e){let{data:t}=await this.supabase.from("products").select(this.EXTENDED_PRODUCT_SELECT).eq("deleted",!1).limit(e);return t}async getToolsByNameOrDescription(e,t){let a="product-search-by-text-".concat(e,"-").concat(t);return s.F.get(a,async()=>{let a="%".concat(e,"%"),{data:r}=await this.supabase.from("products").select(this.EXTENDED_PRODUCT_SELECT).eq("deleted",!1).or("description.ilike.".concat(a,",slogan.ilike.").concat(a,",name.ilike.").concat(a)).limit(t).order("votes_count",{ascending:!1});return r})}async getById(e){let t="product-details-id-".concat(e);return s.F.get(t,async()=>this._getOne("id",e))}async getBySlug(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="product-details-slug-".concat(e),r=await s.F.get(a,async()=>{let{data:t}=await this.supabase.from("products").select(this.DEFULT_PRODUCT_SELECT).eq("slug",e).single();return t});return t&&r&&!r.deleted&&this.viewed(r.id),r}async toggleVote(e,t){let{data:a}=await this.supabase.rpc("toggleProductVote",{_product_id:e,_user_id:t});return null!=a?a:0}async viewed(e){let{data:t}=await this.supabase.rpc("updateViews",{_product_id:e});return null!=t?t:0}async insert(e,t){let{data:a,error:r}=await this.supabase.from("products").insert(e).select().single();if(null!==r)throw Error(r.message);return 0!==t.length&&await Promise.all(t.map(async e=>await this._addProductToCategory(a.id,e))),a}async update(e,t){var a;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=(a=["deleted_at","deleted"],Object.fromEntries(Object.entries(t).filter(e=>{let[t,r]=e;return!a.includes(t)}))),{data:n,error:c}=await this.supabase.from("products").update(s).eq("id",e).select().single();if(await this.supabase.from("product_category_product").delete().eq("product_id",e),await Promise.all(r.map(async t=>await this._addProductToCategory(e,t))),null!=c)throw Error(c.message);return n}async delete(e){let{error:t}=await this.supabase.from("products").update({deleted:!0,deleted_at:new Date().toISOString()}).eq("id",e);if(null!==t)throw Error(t.message)}async search(e){let{data:t,error:a}=await this.supabase.from("products").select("*").ilike("name","%".concat(e,"%")).eq("deleted",!1).limit(8);if(null!==a)throw Error(a.message);return t}async _addProductToCategory(e,t){let{error:a}=await this.supabase.from("product_category_product").insert({product_id:e,category_id:t});if(null!=a)throw Error(a.message);return!0}async _getOne(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.DEFULT_PRODUCT_SELECT,{data:r}=await this.supabase.from("products").select(a).eq("deleted",!1).eq(e,t).single();return r}constructor(...e){super(...e),this.DEFULT_PRODUCT_SELECT="*, product_pricing_types(*), product_categories(name, id)",this.EXTENDED_PRODUCT_SELECT="*, product_pricing_types(*), product_categories(*), profiles (full_name)",this.EXTENDED_PRODUCT_SELECT_WITH_CATEGORIES="*, product_pricing_types(*), product_categories!inner(*), profiles (full_name)"}}}}]);