(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{74050:function(e,t,s){Promise.resolve().then(s.bind(s,94332))},94332:function(e,t,s){"use strict";s.r(t);var n=s(57437),l=s(54796),a=s(61211),o=s(65777),c=s(14933),r=s(96007),i=s(53760),d=s(95335),u=s(78755),h=s(10963),x=s(65928),m=s(39232),f=s(61396),g=s.n(f),b=s(2265);t.default=()=>{let{session:e}=(0,a.useSupabase)(),t=null==e?void 0:e.user,s=(0,x.A)(),f=new m.Z(s),p=new m.Z(s).getUserProductsById(null==t?void 0:t.id),[j,v]=(0,b.useState)(!0),[w,N]=(0,b.useState)([]),[k,y]=(0,b.useState)(!1),[_,Z]=(0,b.useState)("");(0,b.useEffect)(()=>{p.then(e=>{N([...e]),v(!1)})},[]);let S=(e,t)=>{let s=window.confirm("Are you sure you want to delete this?");s&&f.delete(e).then(()=>{N(w.filter((e,s)=>s!==t))})};return(0,n.jsxs)("section",{className:"container-custom-screen min-h-screen mt-14",children:[(0,n.jsxs)("div",{className:"items-start justify-between py-4 md:flex",children:[(0,n.jsxs)("div",{className:"max-w-lg",children:[(0,n.jsx)("h1",{className:"text-black text-2xl font-bold",children:"Tools"}),(0,n.jsx)("p",{className:"text-black mt-1",children:"You can launch a new tool, or edit and delete."})]}),(0,n.jsx)("div",{className:"mt-4 md:mt-0",children:(0,n.jsx)(o.Z,{href:"/account/tools/new",className:"text-sm shadow hover:bg-slate-700",children:"New tool"})})]}),(0,n.jsx)("ul",{className:"mt-6 divide-y divide-slate-800/60",children:j?(0,n.jsx)("div",{children:(0,n.jsx)(l.yM,{className:"w-6 h-6 mx-auto text-orange-500"})}):w.length>0?w.map((e,t)=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("li",{className:"py-3",children:(0,n.jsxs)("div",{className:"p-2 flex items-start gap-x-4",children:[(0,n.jsx)(r.Z,{src:e.logo_url||"",alt:e.name,className:"w-14 h-14 sm:w-16 sm:h-16"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(g(),{href:"/tool/".concat(e.slug),children:[(0,n.jsx)(i.default,{children:e.name}),(0,n.jsx)(u.Z,{className:"line-clamp-2",children:e.slogan}),(0,n.jsx)(d.Z,{items:[e.product_pricing_types.title||"Free",...e.product_categories.map(e=>e.name)]})]}),(0,n.jsxs)("div",{className:"mt-2.5 flex items-center gap-x-4",children:[(0,n.jsx)(g(),{href:"/account/tools/edit/".concat(e.id),className:"inline-block text-black hover:text-black0 duration-150",children:(0,n.jsx)(l.Vs,{})}),(0,n.jsx)("button",{onClick:()=>{S(e.id,t)},className:"inline-block text-black hover:text-black0 duration-150",children:(0,n.jsx)(l.IT,{})}),(0,n.jsx)("button",{onClick:()=>{Z(e.slug),y(!0)},className:"inline-block text-black hover:text-black0 duration-150",children:(0,n.jsx)(l.Lf,{})})]})]}),(0,n.jsx)("div",{className:"flex-1 self-center flex justify-end",children:(0,n.jsx)(h.default,{count:e.votes_count,productId:null==e?void 0:e.id,launchDate:e.launch_date,launchEnd:e.launch_end})})]})},t)})):(0,n.jsx)("div",{className:"font-medium text-black",children:"No launches found."})}),(0,n.jsx)(c.Z,{isModalOpen:k,toolSlug:_,setModalOpen:y,setToolSlug:Z,copyDone:()=>{localStorage.removeItem("last-tool"),y(!1)}})]})}},14933:function(e,t,s){"use strict";s.d(t,{Z:function(){return f}});var n=s(57437),l=s(2686),a=s.n(l);s(17238);var o=s(2265),c=s(54796),r=e=>{let{children:t,onCopy:s=()=>{}}=e,[l,r]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{a().highlightAll()},[]),(0,o.useEffect)(()=>{l&&setTimeout(()=>r(!1),3e3)},[l]),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{className:"absolute top-4 right-4 text-gray-300 hover:text-gray-400 duration-150 bg-slate-600 rounded-lg p-1 ".concat(l?"text-orange-600 pointer-events-none":""),onClick:()=>{navigator.clipboard.writeText(t||"").then(function(){r(!0),s()},function(e){console.error("Async: Could not copy text: ",e)})},children:[(0,n.jsx)(c.Rx,{}),l?(0,n.jsx)("div",{className:"absolute -top-12 -left-3 px-2 py-1.5 rounded-xl bg-orange-600 font-semibold text-black text-[10px] after:absolute after:inset-x-0 after:mx-auto after:top-[22px] after:w-2 after:h-2 after:bg-orange-600 after:rotate-45",children:"Copied"}):""]}),(0,n.jsx)("pre",{className:"bg-white",children:(0,n.jsx)("code",{className:"lang-jsx",children:t})})]})},i=s(26930),d=s(30598),u=s(24033),h=s(61211),x=s(65928),m=s(39232),f=e=>{let{toolSlug:t="",isModalOpen:s,setModalOpen:l,setToolSlug:a,copyDone:c}=e,{supabase:f,session:g}=(0,h.useSupabase)(),b=null==g?void 0:g.user,p=(0,x.A)(),j=new m.Z(p),v=(0,o.useRef)(null),w=(0,u.useParams)(),N=(0,u.usePathname)(),k=(0,u.useSearchParams)(),y=k.get("banner"),{slug:_}=w,Z=null!=N&&!!N.includes("/tool")&&"true"==y,S=()=>{let e=v.current;if(e){var t,s;let n=null===(s=e.contentDocument)||void 0===s?void 0:null===(t=s.documentElement)||void 0===t?void 0:t.offsetHeight;e.style.height="".concat(n,"px")}};return(0,o.useEffect)(()=>{let e=localStorage.getItem("last-tool");if(e){let t=JSON.parse(e);new Date(t.launchEnd).getTime()>=Date.now()&&(a(t.toolSlug),l(!0))}b&&Z&&j.getBySlug(_,!1).then(e=>{b.id==(null==e?void 0:e.owner_id)&&(a(_),l(!0))}),setTimeout(()=>{S()},100),window.onresize=()=>S()},[]),(0,o.useEffect)(()=>{setTimeout(()=>{S()},100)},[N,s]),(0,n.jsxs)(d.Z,{variant:"custom",isActive:s,className:"max-w-4xl",children:[(0,n.jsx)("h3",{className:"text-black font-medium",children:"Add banner"}),(0,n.jsxs)("p",{className:"text-black text-sm mt-2",children:["Add this code between ",(0,n.jsx)("b",{children:"<head>"})," tags in your website to show a banner about your launch."]}),(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)("iframe",{ref:v,srcDoc:'<!DOCTYPE html>\n  <html lang="en">\n  <head>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <title>Document</title>\n      <script defer data-url="https://opencollab.exchange/tool/'.concat(t,'" src="https://cdn.jsdelivr.net/gh/sidiDev/devhunt-banner/indexV0.js"></script>\n  </head>\n  <body>\n      \n  </body>\n  </html>'),className:"w-full bg-transparent border-none rounded-xl"})}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(r,{onCopy:c,children:'<script defer data-url="https://opencollab.exchange/tool/'.concat(t,'" src="https://cdn.jsdelivr.net/gh/sidiDev/devhunt-banner/indexV0.js" />')})}),(0,n.jsxs)("div",{className:"mt-3 flex gap-x-3",children:[(0,n.jsx)(i.Z,{className:"ring-offset-2 ring-orange-500 focus:ring-2",onClick:c,children:"I've done this"}),(0,n.jsx)(i.Z,{className:"bg-slate-700 hover:bg-slate-600",onClick:()=>l(!1),children:"Close"})]})]})}},95335:function(e,t,s){"use strict";var n=s(57437);t.Z=e=>{let{items:t}=e;return(0,n.jsx)("div",{className:"flex items-center gap-x-3 text-sm text-black overflow-hidden",children:t.slice(0,3).map((e,s)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"flex-none",children:e}),s!==t.length-1?(0,n.jsx)("span",{className:"block flex-none w-1 h-1 bg-slate-500 rounded-full"}):""]}))})}},10963:function(e,t,s){"use strict";s.r(t);var n=s(57437),l=s(54796),a=s(57999),o=s(61211),c=s(39232),r=s(30598),i=s(65928),d=s(24033),u=s(2265),h=s(95578),x=s(65777),m=s(26930),f=s(54887);t.default=e=>{let{count:t,launchDate:s,launchEnd:g,productId:b=null,className:p=""}=e,{session:j}=(0,o.useSupabase)(),v=new c.Z((0,i.A)()),w=new Date(s).getTime()<=Date.now(),N=(0,d.useRouter)(),[k,y]=(0,u.useState)(t),[_,Z]=(0,u.useState)(!1),[S,C]=(0,u.useState)(!1),[D,E]=(0,u.useState)({title:"",desc:""}),T=async()=>{if(j&&j.user){if(E(new Date(g).getTime()>=Date.now()?{title:"Not Launched Yet!",desc:"Oops, this tool hasn't launched yet! Check back on ".concat((0,h.Z)(s),".")}:{title:"This tool week is ends",desc:"Oops, you missed this tool week, it was launched ".concat((0,h.Z)(s),".")}),w&&new Date(g).getTime()>=Date.now()){let e=await v.toggleVote(b,j.user.id);N.refresh(),Z(!_),y(e)}else C(!0)}else N.push("/login")};return(0,u.useEffect)(()=>{j&&j.user&&v.getUserVoteById(j.user.id,b).then(e=>{(null==e?void 0:e.user_id)?Z(!0):Z(!1)})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{onClick:T,id:"vote-item",className:(0,a.Z)("px-4 py-1 text-center text-black active:scale-[1.5] duration-200 rounded-md border bg-[linear-gradient(180deg,_#fff_0%,_rgba(30,_41,_59,_0.00)_100%)] ".concat(_?"text-orange-600 border-orange-600":"border-slate-700 hover:text-orange-300"," ").concat(p)),children:[(0,n.jsx)(l.hn,{className:"mt-1 w-4 h-4 mx-auto pointer-events-none"}),(0,n.jsx)("span",{className:"text-sm pointer-events-none",children:k})]}),(0,f.createPortal)((0,n.jsxs)(r.Z,{isActive:S,icon:(0,n.jsx)(l.mH,{className:"text-blue-500 w-6 h-6"}),title:D.title,description:D.desc,onCancel:()=>C(!1),children:[(0,n.jsx)(x.Z,{href:"/",className:"flex-1 block w-full text-sm bg-orange-500 hover:bg-orange-400",children:"Explore other tools"}),(0,n.jsx)(m.Z,{onClick:()=>C(!1),className:"flex-1 block w-full text-sm border border-slate-700 bg-transparent hover:bg-white mt-2 sm:mt-0",children:"Continue"})]}),document.body)]})}},95578:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(62067),l=s.n(n);function a(e){let t=l()(),s=l()(e),n=t.diff(s,"days");return 7>Math.abs(n)?s.fromNow():s.format("MMMM Do YYYY")}},24033:function(e,t,s){e.exports=s(20290)}},function(e){e.O(0,[990,171,724,199,109,63,699,971,864,744],function(){return e(e.s=74050)}),_N_E=e.O()}]);