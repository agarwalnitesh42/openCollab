(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{62601:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(58960)},1921:function(e,t,r){Promise.resolve().then(r.bind(r,73067))},73067:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(57437),s=r(61211),o=r(21149),l=r(33331),a=r(45222),i=r(51478),c=r(86087),u=r(80884),d=r(87725),h=r(71786),m=r(94562),f=e=>{let t=e.toLowerCase(),r=t.replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-{2,}/g,"-");return r},p=r(65928),g=r(6347),v=r(29992),x=r(39232),w=r(2265),b=r(61865),j=r(24033),y=r(29222),_=r(84488),Z=r(57999);let N=w.forwardRef(function({title:e,titleId:t,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))}),k=w.forwardRef(function({title:e,titleId:t,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}),E=w.forwardRef(function({title:e,titleId:t,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}),L=w.forwardRef(function({title:e,titleId:t,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?w.createElement("title",{id:t},e):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}))});var T=e=>{let{icon:t,context:r,className:s="",variant:o="info"}=e,l={info:"text-blue-500",success:"text-green-500",danger:"text-red-500",warning:"text-amber-500"},a={info:(0,n.jsx)(N,{className:"w-6 h-6 ".concat(l.info)}),success:(0,n.jsx)(k,{className:"w-6 h-6 ".concat(l.success)}),danger:(0,n.jsx)(E,{className:"w-6 h-6 ".concat(l.danger)}),warning:(0,n.jsx)(L,{className:"w-6 h-6 ".concat(l.warning)})};return(0,n.jsx)("div",{className:(0,Z.Z)("flex justify-between p-4 rounded-md bg-slate-800 border border-slate-700 border-l-4 ".concat({info:"border-l-blue-500",success:"border-l-green-500",danger:"border-l-red-500",warning:"border-l-amber-500"}[o]," ").concat(s)),children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("div",{children:t||a[o]}),(0,n.jsx)("p",{className:"".concat(l[o]," sm:text-sm"),dangerouslySetInnerHTML:{__html:r}})]})})},S=r(62601),C=()=>{let e=(0,p.A)(),t=new v.Z(e).getAll(),r=new x.Z(e),Z=new _.Z(e),N=(0,j.useRouter)(),{session:k}=(0,s.useSupabase)(),E=null==k?void 0:k.user,{register:L,handleSubmit:C,control:P,formState:{errors:D},getValues:q}=(0,b.cI)(),[z,O]=(0,w.useState)(),[M,B]=(0,w.useState)([]),[R,A]=(0,w.useState)([]),[I,U]=(0,w.useState)([]),[W,H]=(0,w.useState)([]),[F,Y]=(0,w.useState)(""),[$,G]=(0,w.useState)(),[Q,V]=(0,w.useState)(""),[J,K]=(0,w.useState)(""),[X,ee]=(0,w.useState)(!1),[et,er]=(0,w.useState)(!1),[en,es]=(0,w.useState)(!1);(0,w.useEffect)(()=>{t.then(e=>{A([...e])}),Z.getById(null==E?void 0:E.id).then(e=>{O(e)})},[]);let eo=e=>{H(W.filter((t,r)=>r!==e)),U(I.filter((t,r)=>r!==e))},el=()=>{if(Y(""),K(""),0==I.length)Y("Please choose some screenshots");else{if($)return!0;K("Please choose product logo")}},ea=async e=>{if(el()){let{tool_name:t,tool_website:n,tool_description:s,slogan:o,pricing_type:l,github_repo:a,demo_video:i,week:c}=e,u=M.map(e=>e.id);es(!0);let d=await r.getWeeks(new Date().getFullYear(),2),h=d.find(e=>e.week===parseInt(c));await r.insert({asset_urls:W,name:t,demo_url:n,github_url:a,pricing_type:l,slogan:o,description:s,logo_url:Q,owner_id:null==E?void 0:E.id,slug:f(t),is_draft:!1,comments_count:0,votes_count:0,demo_video_url:i,launch_date:null==h?void 0:h.startDate,launch_start:null==h?void 0:h.startDate,launch_end:null==h?void 0:h.endDate,week:parseInt(c)},u).then(async e=>{let t=S.env.DISCOR_TOOL_WEBHOOK,r="https://opencollab.exchange/tool/".concat(null==e?void 0:e.slug),n="**".concat(null==e?void 0:e.name,"** by ").concat(null==z?void 0:z.full_name," [open the tool](").concat(r,")");t&&await y.Z.post(t,{content:n}),es(!1),localStorage.setItem("last-tool",JSON.stringify({toolSlug:null==e?void 0:e.slug,launchDate:null==e?void 0:e.launch_date,launchEnd:null==e?void 0:e.launch_end})),window.open("/tool/".concat(null==e?void 0:e.slug,"?banner=true")),N.push("/account/tools")})}};return(0,n.jsxs)("section",{className:"container-custom-screen",children:[(0,n.jsx)(T,{context:"Any non-dev tools will be subject to removal. Please ensure that your submission is relevant to the developer community."}),(0,n.jsx)("h1",{className:"text-xl text-black font-semibold mt-6",children:"Launch a tool"}),(0,n.jsx)("div",{className:"mt-12",children:(0,n.jsxs)(l.G,{onSubmit:C(ea),children:[(0,n.jsxs)(l.c,{number:1,title:"Tell us about your tool",description:"Share basic info to help fellow devs get the gist of your awesome creation.",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{isLoad:X,required:!0,src:Q,onChange:e=>{if(!e.target.files)return;let t=e.target.files[0];t&&t.type.includes("image")&&(G(t),ee(!0),(0,g.Z)({files:t,options:"w=128"}).then(e=>{V(null==e?void 0:e.file),ee(!1)}))}}),(0,n.jsx)(u.Z,{className:"mt-2",children:J})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Tool name"}),(0,n.jsx)(i.Z,{placeholder:"My Awesome Dev Tool",className:"w-full mt-2",validate:{...L("tool_name",{required:!0,minLength:3})}}),(0,n.jsx)(u.Z,{className:"mt-2",children:D.tool_name&&"Please enter your tool name"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Catchy slogan \uD83D\uDE0E"}),(0,n.jsx)(i.Z,{placeholder:"Supercharge Your Development Workflow!",className:"w-full mt-2",validate:{...L("slogan",{required:!0,minLength:10})}}),(0,n.jsx)(u.Z,{className:"mt-2",children:D.slogan&&"Please enter your tool slogan"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Tool website URL"}),(0,n.jsx)(i.Z,{placeholder:"https://myawesomedevtool.com/",className:"w-full mt-2",validate:{...L("tool_website",{required:!0,pattern:/^(https?:\/\/)?([a-z0-9-]+\.)+[a-z]{2,}(\/.*)*$/i})}}),(0,n.jsx)(u.Z,{className:"mt-2",children:D.tool_website&&"Please enter your tool website URL"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"GitHub repo URL (optional)"}),(0,n.jsx)(i.Z,{placeholder:"https://github.com/username/myawesomedevtool",className:"w-full mt-2",validate:{...L("github_repo",{required:!1,pattern:/^(https?:\/\/)?([a-z0-9-]+\.)+[a-z]{2,}(\/.*)*$/i})}}),(0,n.jsx)(u.Z,{className:"mt-2",children:D.github_repo&&"Please enter a valid github repo url"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Quick Description (max 300 characters)"}),(0,n.jsx)(m.Z,{placeholder:"Briefly explain what your tool does. HTML is supported",className:"w-full h-36 mt-2",validate:{...L("tool_description",{required:!0,maxLength:350})}}),(0,n.jsx)(u.Z,{className:"mt-2",children:D.tool_description&&"Please enter your tool description"})]})]}),(0,n.jsxs)(l.c,{number:2,title:"Extra Stuff",description:"We'll use this to group your tool with others and share it in newsletters. Plus, users can filter by price and categories!",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Tool pricing type"}),R.map((e,t)=>(0,n.jsx)(b.Qr,{name:"pricing_type",control:P,rules:{required:!0},render:t=>{let{field:r}=t;return(0,n.jsxs)("div",{className:"mt-2 flex items-center gap-x-2",children:[(0,n.jsx)(h.Z,{value:"free",onChange:t=>r.onChange(e.id),id:e.title,name:"pricing-type"}),(0,n.jsx)(c.Z,{htmlFor:e.title,className:"font-normal",children:e.title})]})}},t)),(0,n.jsx)(u.Z,{className:"mt-2",children:D.pricing_type&&"Please select your tool pricing type"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Tool categories (optional)"}),(0,n.jsx)(o.Z,{className:"mt-2",categories:M,setCategory:B})]})]}),(0,n.jsxs)(l.c,{number:3,title:"Media",description:"Show off how awesome your dev tool is with cool images.",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Demo video (optional)"}),(0,n.jsx)(i.Z,{placeholder:"Demo video (optional). YouTube or mp4 link",className:"w-full mt-2",validate:{...L("demo_video",{required:!1,pattern:/^(https?:\/\/)?([a-z0-9-]+\.)+[a-z]{2,}(\/.*)*$/i})}}),(0,n.jsx)(u.Z,{className:"mt-2",children:D.demo_video&&"Please enter a valid demo video url"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c.Z,{children:"Tool screenshots"}),(0,n.jsx)("p",{className:"text-sm text-black",children:"Upload at least three screenshots showcasing different aspects of functionality. Note that the first image will be used as social preview, so choose wisely!"}),(0,n.jsx)(a.W,{isLoad:et,className:"mt-4",files:I,max:5,onChange:e=>{if(!e.target.files)return;let t=e.target.files[0];t&&t.type.includes("image")&&W.length<5&&(U([...I,t]),er(!0),Y(""),(0,g.Z)({files:t,options:"w=750"}).then(e=>{(null==e?void 0:e.file)&&(H([...W,e.file]),er(!1))}))},children:W.map((e,t)=>(0,n.jsx)(a.m,{src:e,onRemove:()=>{eo(t)}},t))}),(0,n.jsx)(u.Z,{className:"mt-2",children:F})]})]})]})})]})}},61211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a},useSupabase:function(){return i}});var n=r(57437),s=r(2265),o=r(65928);let l=(0,s.createContext)();function a(e){let{children:t,session:r,user:a}=e,[i]=(0,s.useState)(()=>(0,o.A)());return(0,n.jsx)(l.Provider,{value:{supabase:i,session:r,user:a},children:(0,n.jsx)(n.Fragment,{children:t})})}let i=()=>(0,s.useContext)(l)},80884:function(e,t,r){"use strict";r.d(t,{Z:function(){return n.Z}});var n=r(59789)},84488:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(73550),s=r(11639);class o extends n.Z{async getById(e){let t="users-".concat(e);return s.F.get(t,async()=>{let{data:t}=await this.supabase.from("profiles").select().eq("id",e).single();return t},180)}async getByUsername(e){let t="users-username-".concat(e);return s.F.get(t,async()=>{let{data:t,error:r}=await this.supabase.from("profiles").select().eq("username",e).single();return t},180)}async getProfiles(){let{data:e,error:t}=await this.supabase.from("profiles").select();return e}async getUserActivityById(e){let{data:t,error:r}=await this.supabase.from("comment").select("*, profiles(full_name, avatar_url), products(name, slug, slogan, logo_url, votes_count, deleted, demo_url)").eq("user_id",e);if(null!==r)throw Error(r.message);return(t||[]).filter(e=>!e.products.deleted)}async getUserVoteTools(e){let{data:t,error:r}=await this.supabase.from("product_votes_view").select("\n        *,\n        product_pricing_types (title),\n        product_category_product (\n          product_categories (\n            name\n          )\n        )\n        ").eq("user_id",e);if(null!==r)throw Error(r.message);return t}async update(e,t){let{data:r,error:n}=await this.supabase.from("profiles").update(t).eq("id",e).select().single();if(null!=n)throw Error(n.message);return r}async updateAvatar(e,t){let{data:r,error:n}=await this.supabase.storage.from("avatars").upload("".concat(e,"/picture"),t,{cacheControl:"0",upsert:!0});if(null!=n)throw Error(n.message);return await this.update(e,{avatar_url:this.supabase.storage.from("avatars").getPublicUrl("".concat(e,"/picture")).data.publicUrl}),r.path}}},58960:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var i=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?i=n.concat(i):u=-1,i.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=i.length;t;){for(n=i,i=[];++u<t;)n&&n[u].run();u=-1,t=i.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new m(e,t)),1!==i.length||c||a(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}},l=!0;try{t[e](o,o.exports,n),l=!1}finally{l&&delete r[e]}return o.exports}n.ab="//";var s=n(229);e.exports=s}()}},function(e){e.O(0,[171,199,706,865,63,372,971,864,744],function(){return e(e.s=1921)}),_N_E=e.O()}]);